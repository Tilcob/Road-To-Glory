# Item JSON conventions

Each item definition lives in its own JSON file under `assets/items/`. The `id` field is
stable and savegame-safe; it is the canonical identifier used in quests, saves, loot,
and inventory. File names should usually match the `id` to keep the asset layout easy to
reason about.

## Directory layout

Items are loaded by the manifest at `items/index.json`, similar to dialogs and quests.
The manifest is generated by the Gradle asset index tasks (for example `genItemIndex` or `genAssetIndexes`) and is
gitignored; run the task after adding/removing item files.

Keep an `undefined.json` entry in this directory because the runtime resolves missing/null
item references to the `undefined` id.

## Required fields

- `id` (string): stable item id (example: `iron_sword`).
- `name` (string): display name.
- `category` (string): must match an `ItemCategory` enum value (example: `WEAPON`).
- `maxStack` (integer): stack size; use `1` for non-stackable items.
- `icon` (string): icon/drawable name (Skin/Atlas key).

## Optional fields

- `stats` (object): map of stat name → float value (example: `{"attack": 6}`). Stat names must exist in
  `assets/stats/index.json` to keep stat keys centralized.
- `statModifiers` (array): list of stat modifier objects. Each entry must include a `stat` key plus at
  least one of `additive` or `multiplier`. Stat names must exist in `assets/stats/stats.json`.
- `requirements` (object): map of stat name → minimum value needed to equip the item. Stat names must
  match `StatType` ids (example: `{"strength": 5, "stamina": 10}`).

## Example: stackable material

```json
{
  "id": "wood",
  "name": "Wood",
  "category": "MATERIAL",
  "maxStack": 99,
  "icon": "wood",
  "requirements": {
    "strength": 5,
    "stamina": 2
  },
  "stats": {
    "burn_time": 1.5
  }
}
```

## Example: non-stackable weapon

```json
{
  "id": "iron_sword",
  "name": "Iron Sword",
  "category": "WEAPON",
  "maxStack": 1,
  "icon": "sword",
  "stats": {
    "attack": 6
  },
  "statModifiers": [
    {
      "stat": "attack",
      "additive": 5
    }
  ]
}
```

## Example: multiplier modifier

```json
{
  "id": "stamina_necklace",
  "name": "Stamina Necklace",
  "category": "NECKLACE",
  "maxStack": 1,
  "icon": "necklace",
  "statModifiers": [
    {
      "stat": "stamina",
      "multiplier": 1.1
    }
  ]
}
```
